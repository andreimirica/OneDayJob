<div class="main">
    <div my-button layout-sm="column" layout-align-sm="end end" layout-align-sm="end end" style="z-index: +1"></div>
    <div class="card__container" layout-align="center">
        <div layout="column" layout-gt-sm="row">
            <md-card flex ng-class="{ 'md-whiteframe-z4' : hovering}" ng-mouseenter="hovering = true" ng-mouseleave="hovering = false" style="height:400px">
                <md-card-content>
                    <h3>Filter</h3>
                    <br>
                    <md-input-container>
                        <label>Search by title</label>
                        <input ng-model="searchText" type="search">
                    </md-input-container>
                    <md-button class="md-raised md-warn" ng-click="clearFilter()">Clear filter</md-button>
                    <md-select ng-model="search.category" placeholder="Categories">
                        <md-option ng-repeat="item in categories">{{item.name}}</md-option>
                    </md-select>
                    <md-select ng-model="search.location" placeholder="Location">
                        <md-option ng-repeat="item in locations">{{item.stateName}}</md-option>
                    </md-select>
                </md-card-content>
            </md-card>
            <md-content style="background: transparent;"class="cards" layout="column">
                <md-card ng-class="{ 'md-whiteframe-z5' : hover, 'lightGray':item.closed}" ng-mouseenter="hover = true" ng-mouseleave="hover = false" ng-repeat="item in tasks | filter:searchText |orderBy: '-jobDate'">
                    <div layout="row">
                        <a href="#"><img ng-src="http://www.projecthappyhearts.com/wp-content/uploads/2015/04/green-nature-dual-monitor-other.jpg" class="mini-avatar "></a> <h4>{{item.title}} - <b ng-if="item.closed" style="color: red">CLOSED</b></h4>
                    </div>
                    <md-divider></md-divider>
                    <md-card-content layout="row" layout-sm="column">
                        <div layout="column">
                            <h4>Description: {{item.description | cut:true:100:' ...'}}</h4>
                            <md-divider></md-divider>
                            <div layout="row">
                                <p class="text-pad">Location : {{item.location}}</p>
                                <p class="text-pad">Job Date: {{item.jobDate | date}}</p>
                            </div>
                        </div>
                        <div ng-if="isLoggedIn()" class="md-actions" layout="column" layout-align="end end" flex>
                            <a href="/details//{{item._id}}">
                                <md-button>Show details</md-button>
                            </a>
                        </div>
                        <md-button ng-show="isAdmin() || (currentUser()._id == item.owner)" ng-click="deleteJob(item)" class="md-icon-button" aria-label="More">
                            <md-icon md-svg-src="assets/images/trash1.svg"></md-icon>
                        </md-button>
                    </md-card-content>
                    <md-divider></md-divider>
                </md-card>
            </md-content>
            <div flex></div>
        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <p>
                Angular Fullstack v2.1.0 |
                <a href="https://twitter.com/tyhenkel">@tyhenkel</a> |
                <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a>
            </p>
        </div>
        </footer>
</div>